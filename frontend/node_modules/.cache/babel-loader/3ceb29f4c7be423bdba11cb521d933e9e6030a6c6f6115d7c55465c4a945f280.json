{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\olush\\\\Desktop\\\\\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3\\u05D9\\u05DD\\\\HolidayPicker\\\\frontend\\\\src\\\\components\\\\AdminPage\\\\EditVacation.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EditVacation = () => {\n  _s();\n  const [imagePreview, setImagePreview] = useState(null);\n  const [currentImageURL, setCurrentImageURL] = useState(null);\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const navigate = useNavigate();\n  const [vacation, setVacation] = useState({\n    vacation_id: 0,\n    vacation_description: '',\n    vacation_start: '',\n    vacation_end: '',\n    vacation_image_file_name: null,\n    vacation_destination: '',\n    price: 0\n  });\n  const {\n    holidayId\n  } = useParams();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const role = localStorage.getItem('role');\n    if (token && role === 'admin') {\n      fetchUserData().then(userData => {\n        if (userData) {\n          setLoggedInUser(userData);\n          fetchVacationDetails(); // Fetch the vacation details after fetching user data\n        } else {\n          console.error('User data is null');\n          navigate('/');\n        }\n      }).catch(error => {\n        console.error('Error fetching user data:', error);\n        navigate('/');\n      });\n    } else {\n      navigate('/');\n    }\n  }, [navigate]);\n  const fetchUserData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:3000/user', {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Failed to fetch user data');\n      }\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Failed to fetch user data', error);\n      return null;\n    }\n  };\n  useEffect(() => {\n    if (!holidayId || isNaN(Number(holidayId))) {\n      console.error('Invalid vacation ID');\n      console.log(holidayId);\n      navigate('/admin');\n    } else {\n      fetchVacationDetails();\n    }\n  }, [holidayId, navigate]);\n  const fetchVacationDetails = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`http://localhost:3000/vacations/${holidayId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        if (response.status === 404) {\n          console.error('Vacation not found');\n          navigate('/admin');\n        } else {\n          throw new Error('Failed to fetch vacation details');\n        }\n      }\n      const data = await response.json();\n      const startDate = new Date(data.vacation_start);\n      startDate.setDate(startDate.getDate() + 1);\n      const adjustedStartDate = startDate.toISOString().substring(0, 10);\n      const endDate = new Date(data.vacation_end);\n      endDate.setDate(endDate.getDate() + 1);\n      const adjustedEndDate = endDate.toISOString().substring(0, 10);\n      setVacation({\n        vacation_id: data.vacation_id,\n        vacation_description: data.vacation_description,\n        vacation_start: adjustedStartDate,\n        vacation_end: adjustedEndDate,\n        vacation_image_file_name: data.vacation_image_file_name,\n        vacation_destination: data.vacation_destination,\n        price: data.price\n      });\n      const imageUrl = data.vacation_image_file_name ? `http://localhost:3000/vacation_images/${data.vacation_image_file_name}` : null;\n      setCurrentImageURL(imageUrl);\n      console.log(data.vacation_image_file_name);\n    } catch (error) {\n      console.error('Failed to fetch vacation details', error);\n    }\n  };\n  const handleInputChange = e => {\n    setVacation({\n      ...vacation,\n      [e.target.name]: e.target.value\n    });\n    console.log(vacation);\n  };\n  const handleFileChange = e => {\n    if (e.target.files) {\n      const selectedImage = e.target.files[0];\n      setVacation({\n        ...vacation,\n        vacation_image_file_name: selectedImage\n      });\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(selectedImage);\n    }\n  };\n  const handleFileUpload = async () => {\n    const formData = new FormData();\n    formData.append('image', vacation.vacation_image_file_name);\n    console.log('File selected:', vacation.vacation_image_file_name);\n    console.log('Sending request to upload the file...');\n    const response = await fetch('http://localhost:3000/api/vacations/upload/update', {\n      method: 'POST',\n      body: formData\n    });\n    console.log('Got response from the server' + response);\n    console.log(formData);\n    const data = await response.json();\n    console.log(data);\n    if (response.ok) {\n      console.log('File was uploaded successfully');\n      return data.filename; // return the filename\n    } else {\n      console.log('File upload failed');\n      throw new Error(data.error || 'Network response was not ok');\n    }\n  };\n  const handleUpdateVacation = async e => {\n    e.preventDefault();\n    try {\n      const token = localStorage.getItem('token');\n      let filename;\n      if (vacation.vacation_image_file_name) {\n        filename = await handleFileUpload(); // Upload the file and get the filename\n      }\n\n      const formData = new FormData();\n      formData.append('id', vacation.vacation_id.toString());\n      formData.append('destination', vacation.vacation_destination);\n      formData.append('description', vacation.vacation_description);\n      formData.append('startDate', vacation.vacation_start);\n      formData.append('endDate', vacation.vacation_end);\n      formData.append('price', vacation.price.toString());\n      if (vacation.vacation_image_file_name) {\n        formData.append('imageFileName', vacation.vacation_image_file_name);\n      }\n      const response = await fetch(`http://localhost:3000/vacations/${holidayId}`, {\n        method: 'PUT',\n        body: formData,\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(response);\n      const data = await response.json();\n      console.log(data);\n      if (!response.ok) {\n        throw new Error(data.error || 'Network response was not ok');\n      }\n      Swal.fire({\n        title: 'Success!',\n        text: data.message,\n        icon: 'success',\n        confirmButtonText: 'Ok'\n      });\n\n      // Navigate back to the admin page after successful update\n      navigate('/admin');\n    } catch (error) {\n      if (error instanceof Error) {\n        Swal.fire({\n          title: 'Error!',\n          text: error.message,\n          icon: 'error',\n          confirmButtonText: 'Ok'\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mainAdd\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"editLabel\",\n          children: \"Edit Vacation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Destination\",\n              name: \"vacation_destination\",\n              value: vacation.vacation_destination,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Description\",\n              name: \"vacation_description\",\n              value: vacation.vacation_description,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              placeholder: \"Start Date\",\n              name: \"vacation_start\",\n              value: vacation.vacation_start,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              placeholder: \"End Date\",\n              name: \"vacation_end\",\n              value: vacation.vacation_end,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Price\",\n              name: \"price\",\n              value: vacation.price,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"imageFileName\",\n              className: \"custom-file-upload\",\n              children: imagePreview ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imagePreview,\n                alt: \"Vacation Preview\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this) : currentImageURL ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: currentImageURL,\n                alt: \"Current Vacation Image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 19\n              }, this) : 'Select or Change Image'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input__file_edit\",\n              type: \"file\",\n              name: \"imageFileName\",\n              id: \"imageFileName\",\n              accept: \"image/*\",\n              onChange: handleFileChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleUpdateVacation,\n            children: \"Update Vacation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"return-btn\",\n            onClick: () => navigate('/admin'),\n            children: \"Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(EditVacation, \"6tHSQHdAN2wTqkG/oSOtP3mofos=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = EditVacation;\nexport default EditVacation;\nvar _c;\n$RefreshReg$(_c, \"EditVacation\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useParams","Swal","jsxDEV","_jsxDEV","Fragment","_Fragment","EditVacation","_s","imagePreview","setImagePreview","currentImageURL","setCurrentImageURL","loggedInUser","setLoggedInUser","navigate","vacation","setVacation","vacation_id","vacation_description","vacation_start","vacation_end","vacation_image_file_name","vacation_destination","price","holidayId","token","localStorage","getItem","role","fetchUserData","then","userData","fetchVacationDetails","console","error","catch","response","fetch","headers","Authorization","ok","Error","data","json","isNaN","Number","log","status","startDate","Date","setDate","getDate","adjustedStartDate","toISOString","substring","endDate","adjustedEndDate","imageUrl","handleInputChange","e","target","name","value","handleFileChange","files","selectedImage","reader","FileReader","onloadend","result","readAsDataURL","handleFileUpload","formData","FormData","append","method","body","filename","handleUpdateVacation","preventDefault","toString","fire","title","text","message","icon","confirmButtonText","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","htmlFor","src","alt","id","accept","onClick","_c","$RefreshReg$"],"sources":["C:/Users/olush/Desktop/לימודים/HolidayPicker/frontend/src/components/AdminPage/EditVacation.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport Nav from '../Nav/Nav';\r\n\r\ninterface VacationDetails {\r\n  vacation_id: number;\r\n  vacation_description: string;\r\n  vacation_start: string;\r\n  vacation_end: string;\r\n  vacation_image_file_name: File | null;\r\n  vacation_destination: string;\r\n  price: number;\r\n}\r\n\r\ninterface UserData {\r\n  userId: number;\r\n  first_name: string;\r\n  last_name: string;\r\n  email: string;\r\n  role: string;\r\n}\r\n\r\ntype Params = {\r\n    holidayId: string;\r\n};\r\n\r\nconst EditVacation: FC = () => {\r\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\r\n  const [currentImageURL, setCurrentImageURL] = useState<string | null>(null);\r\n  const [loggedInUser, setLoggedInUser] = useState<UserData | null>(null);\r\n  const navigate = useNavigate();\r\n  const [vacation, setVacation] = useState<VacationDetails>({\r\n    vacation_id: 0,\r\n    vacation_description: '',\r\n    vacation_start: '',\r\n    vacation_end: '',\r\n    vacation_image_file_name: null,\r\n    vacation_destination: '',\r\n    price: 0,\r\n  });\r\n    const { holidayId } = useParams<Params>();\r\n    \r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    const role = localStorage.getItem('role');\r\n\r\n    if (token && role === 'admin') {\r\n      fetchUserData()\r\n        .then((userData) => {\r\n          if (userData) {\r\n            setLoggedInUser(userData);\r\n            fetchVacationDetails(); // Fetch the vacation details after fetching user data\r\n          } else {\r\n            console.error('User data is null');\r\n            navigate('/');\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error fetching user data:', error);\r\n          navigate('/');\r\n        });\r\n    } else {\r\n      navigate('/');\r\n    }\r\n  }, [navigate]);\r\n\r\n\r\n\r\n  const fetchUserData = async (): Promise<UserData | null> => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n\r\n      const response = await fetch('http://localhost:3000/user', {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to fetch user data');\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data;\r\n    } catch (error) {\r\n      console.error('Failed to fetch user data', error);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!holidayId || isNaN(Number(holidayId))) {\r\n      console.error('Invalid vacation ID');\r\n      console.log(holidayId);\r\n      navigate('/admin');\r\n    } else {\r\n      fetchVacationDetails();\r\n    }\r\n  }, [holidayId, navigate]);\r\n\r\n\r\n  const fetchVacationDetails = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:3000/vacations/${holidayId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        if (response.status === 404) {\r\n          console.error('Vacation not found');\r\n          navigate('/admin');\r\n        } else {\r\n          throw new Error('Failed to fetch vacation details');\r\n        }\r\n      }\r\n\r\n      const data = await response.json();\r\n      const startDate = new Date(data.vacation_start);\r\n      startDate.setDate(startDate.getDate() + 1);\r\n      const adjustedStartDate = startDate.toISOString().substring(0, 10);\r\n    \r\n      const endDate = new Date(data.vacation_end);\r\n      endDate.setDate(endDate.getDate() + 1);\r\n      const adjustedEndDate = endDate.toISOString().substring(0, 10);\r\n    \r\n      setVacation({\r\n        vacation_id: data.vacation_id,\r\n        vacation_description: data.vacation_description,\r\n        vacation_start: adjustedStartDate,\r\n        vacation_end: adjustedEndDate,\r\n        vacation_image_file_name: data.vacation_image_file_name,\r\n        vacation_destination: data.vacation_destination,\r\n        price: data.price,\r\n      });\r\n      const imageUrl = data.vacation_image_file_name ? `http://localhost:3000/vacation_images/${data.vacation_image_file_name}` : null;\r\n      setCurrentImageURL(imageUrl);\r\n      console.log(data.vacation_image_file_name);\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to fetch vacation details', error);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setVacation({\r\n      ...vacation,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    console.log(vacation);\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      const selectedImage = e.target.files[0];\r\n      setVacation({\r\n        ...vacation,\r\n        vacation_image_file_name: selectedImage,\r\n      });\r\n  \r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result as string);\r\n      };\r\n  \r\n      reader.readAsDataURL(selectedImage);\r\n    }\r\n  };\r\n  \r\n\r\n  const handleFileUpload = async () => {\r\n    const formData = new FormData();\r\n    formData.append('image', vacation.vacation_image_file_name as File);\r\n    console.log('File selected:', vacation.vacation_image_file_name);\r\n  \r\n    console.log('Sending request to upload the file...');\r\n    const response = await fetch('http://localhost:3000/api/vacations/upload/update', {\r\n        method: 'POST',\r\n        body: formData,\r\n    });\r\n    console.log('Got response from the server' + response);\r\n    console.log(formData);\r\n\r\n    \r\n    const data = await response.json();\r\n    console.log(data);\r\n    if (response.ok) {\r\n        console.log('File was uploaded successfully');\r\n        return data.filename;  // return the filename\r\n    } else {\r\n        console.log('File upload failed');\r\n        throw new Error(data.error || 'Network response was not ok');\r\n    }\r\n  }\r\n  \r\n\r\n  const handleUpdateVacation = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n\r\n      let filename;\r\n      if (vacation.vacation_image_file_name) {\r\n        filename = await handleFileUpload();  // Upload the file and get the filename\r\n      }\r\n  \r\n      const formData = new FormData();\r\n      formData.append('id', vacation.vacation_id.toString());\r\n      formData.append('destination', vacation.vacation_destination);\r\n      formData.append('description', vacation.vacation_description);\r\n      formData.append('startDate', vacation.vacation_start);\r\n      formData.append('endDate', vacation.vacation_end);\r\n      formData.append('price', vacation.price.toString());\r\n      if (vacation.vacation_image_file_name) {\r\n        formData.append('imageFileName', vacation.vacation_image_file_name);\r\n      }\r\n  \r\n      const response = await fetch(`http://localhost:3000/vacations/${holidayId}`, {\r\n        method: 'PUT',\r\n        body: formData,\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n      console.log(response);\r\n\r\n      const data = await response.json();\r\n      console.log(data);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Network response was not ok');\r\n      }\r\n\r\n      Swal.fire({\r\n        title: 'Success!',\r\n        text: data.message,\r\n        icon: 'success',\r\n        confirmButtonText: 'Ok',\r\n      });\r\n\r\n      // Navigate back to the admin page after successful update\r\n      navigate('/admin');\r\n    } catch (error) {\r\n      if (error instanceof Error) {\r\n        Swal.fire({\r\n          title: 'Error!',\r\n          text: error.message,\r\n          icon: 'error',\r\n          confirmButtonText: 'Ok',\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n \r\n  return (\r\n    <>\r\n      <div className=\"wrap\">\r\n        <div className=\"mainAdd\">\r\n          <label className='editLabel'>Edit Vacation</label>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Destination\"\r\n                name=\"vacation_destination\"\r\n                value={vacation.vacation_destination}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Description\"\r\n                name=\"vacation_description\"\r\n                value={vacation.vacation_description}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"date\"\r\n                placeholder=\"Start Date\"\r\n                name=\"vacation_start\"\r\n                value={vacation.vacation_start}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"date\"\r\n                placeholder=\"End Date\"\r\n                name=\"vacation_end\"\r\n                value={vacation.vacation_end}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Price\"\r\n                name=\"price\"\r\n                value={vacation.price}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"imageFileName\" className=\"custom-file-upload\">\r\n                {imagePreview ? (\r\n                  <img src={imagePreview} alt=\"Vacation Preview\" />\r\n                ) : currentImageURL ? (\r\n                  <img src={currentImageURL} alt=\"Current Vacation Image\" />\r\n                ) : (\r\n                  'Select or Change Image'\r\n                )}\r\n              </label>\r\n              <input\r\n                className=\"input__file_edit\"\r\n                type=\"file\"\r\n                name=\"imageFileName\"\r\n                id=\"imageFileName\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileChange}\r\n              />\r\n            </div>\r\n\r\n            \r\n            <button onClick={handleUpdateVacation}>Update Vacation</button>\r\n            <button className=\"return-btn\" onClick={() => navigate('/admin')}>\r\n              Return\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditVacation;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}